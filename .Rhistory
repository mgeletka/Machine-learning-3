gen_tag <- function(maxtaglen=5, all_letters=1) {
taglen<-floor(runif(1)*maxtaglen+1)
paste(letters[sample(1:(length(letters)*all_letters),taglen,replace=TRUE)], collapse='')
}
gen_line <- function(depth=5,maxtaglen,all_letters) {
inner <- ""
size <- runif(1)*7+3
tag<-gen_tag(maxtaglen,all_letters)
inner<-""
while(runif(1)>0.4 && depth>0)
if(inner=="")
inner<-gen_line(depth=depth-1,maxtaglen,all_letters)
else
inner<-paste(inner,gen_line(depth=depth-1,maxtaglen,all_letters))
endtag<-paste("<",tag,collapse='',sep='')
if(inner=="")
paste(tag,endtag)
else
paste(tag,inner,endtag)
}
# this function generates full sequences. You can truncate them using indexes.
gen_xml_data <- function(len,depth,maxtaglen,all_letters)
sapply(1:len,function(i) gen_line(depth,maxtaglen,all_letters))
data <- gen_xml_data(len=20, depth=2,maxtaglen=3,all_letters=0.3)
data
